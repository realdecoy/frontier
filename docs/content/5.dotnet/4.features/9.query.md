# Queries

### What is it about?
Querying with LINQ: Entity Framework Core supports querying data using LINQ (Language Integrated Query). LINQ provides a powerful and expressive way to write queries against the database

### Features
* LINQ Query Operators: LINQ offers various query operators such as `Where`, `OrderBy`, `Select`, `GroupBy`, and more. These operators allow you to filter, order, project, and manipulate data in your queries.

* Eager Loading: Entity Framework Core supports eager loading of related entities, allowing you to fetch related data in a single query using the `Include` method or `ThenInclude` method for multi-level relationships.

* Deferred Execution: LINQ queries in Entity Framework Core are lazily executed, meaning that the query is not executed immediately but when the data is actually accessed. This allows for query composition and optimization.

* Asynchronous Queries: Entity Framework Core provides asynchronous query methods (`ToListAsync`, `FirstOrDefaultAsync`, etc.) that allow for non-blocking database operations, improving scalability and responsiveness.


### Examples

**Creating a Query**

```bash
frontier dotnet add query [name-of-query]
```

This command generates two files located ProjectName/src/ProjectNameApi.Application/NameOfQuery/Queries/NameOfQuery/. The files care to modified for user's purpose.

NameOfQueryQuery.cs
```code
using Mediator;
// using ProjectName.Application.Features.NameOfQuery.Interfaces;

namespace ProjectName.Application.Features.NameOfQuery.Queries.NameOfQuery
{
    public record NameOfQueryQuery : IRequest<string?>>
    {
    }

    public class NameOfQueryQueryHandler : IRequestHandler<NameOfQueryQuery, string?>>
    {
        // private readonly IAuthenticationService _authenticationService;

        public NameOfQueryQueryHandler(/*IAuthenticationService authenticationService*/)
        {
            // _authenticationService = authenticationService;
        }

        public async ValueTask<string?>> Handle(NameOfQueryQuery request, CancellationToken cancellationToken)
        {
            throw new NotImplementedException();
        }
    }
}
```
<br>


NameOfQueryQueryValidator.cs
```code
using FluentValidation;

namespace ProjectName.Application.Features.NameOfQuery.Queries.NameOfQuery
{
    public class NameOfQueryQueryValidator : AbstractValidator<NameOfQueryQuery>
    {
        public NameOfQueryQueryValidator()
        {
            RuleFor(v => v.Property1).Cascade(CascadeMode.Stop)
                .NotEmpty().WithMessage("Property1 field is required.");
        }
    }
}
```

<br>